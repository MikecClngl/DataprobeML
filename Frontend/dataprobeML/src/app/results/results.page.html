<ion-content class="ion-padding" scrollY="true">

  <ion-title class="ion-text-center">
    RESULTS FOR {{ results.name }}
  </ion-title>

  <ion-back-button defaultHref="/home" class="custom-back-button"></ion-back-button>

  <ion-card class="custom-card">
    <ion-card-content class="card-content">
      <ion-content scroll-y="true" style="height: 35em;">
        <div *ngIf="results">

          <div *ngFor="let review of analyses">
            <div class="score-div" *ngIf="review.type === 'BLEU' ">
              <h2>BLEU Score: {{ review.score | number: '.0-2' }}%</h2>
              <ion-progress-bar class="score-bar" [value]="review.score / 100"></ion-progress-bar>
            </div>
            <div class="score-div" *ngIf="review.type === 'CodeBLEU' ">
              <h2>CodeBLEU Score: {{ review.score | number: '.0-2' }}%</h2>
              <ion-progress-bar class="score-bar" [value]="review.score / 100"></ion-progress-bar>
            </div>
            <div class="score-div" *ngIf="review.type === 'CrystalBLEU' ">
              <h2>CrystalBLEU Score: {{ review.score | number: '.0-2' }}%</h2>
              <ion-progress-bar class="score-bar" [value]="review.score / 100"></ion-progress-bar>
            </div>
          </div>
        </div>

        <div class="changeDeleteDiv">
          <div *ngIf="analyses.length !== 0">
            <ion-button class="changeName" fill="clear" *ngIf="results.id !== undefined" (click)="changeReviewName(results.id)">
              <ion-icon name="create-outline"></ion-icon>
              Rename Review
            </ion-button>
          </div>
          <div *ngIf="analyses.length !== 0">
            <ion-button fill="clear" size="small" color="danger" *ngIf="results.id !== undefined" (click)="deleteReview(results.id)">
              Delete review<ion-icon slot="icon-only" name="trash"></ion-icon>
            </ion-button>
          </div>
        </div>

        <div class="errorReview" align="center" *ngIf="analyses.length === 0">
          <p class="noResultsMessage">This review contains errors</p>
          <ion-button fill="clear" size="small" color="danger" *ngIf="results.id !== undefined" (click)="deleteReview(results.id)">
            Delete review<ion-icon slot="icon-only" name="trash"></ion-icon>
          </ion-button>
        </div>
      </ion-content>

    </ion-card-content>
  </ion-card>
</ion-content>
